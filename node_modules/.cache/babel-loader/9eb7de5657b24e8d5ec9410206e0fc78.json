{"ast":null,"code":"var _jsxFileName = \"/Users/mr.hern/Desktop/front-end/react-frontend/src/Components/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\"; // import { useState, useEffect } from \"react\";\n\nimport React, { useState } from \"react\"; // import { withRouter } from \"react-router\";\n// import { Link } from \"react-router-dom\"\n\nimport \"../Login.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Button from \"react-bootstrap/Button\"; // import { yupResolver } from '@hookform/resolvers/yup';\n// import * as yup from 'yup';\n// import { useForm } from 'react-hook-form';\n//create schema for yup \n// const schema = yup.object().shape({\n//   username: yup.string().required(),\n//   password: yup.string().required()\n// })\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = ({\n  history\n}) => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\"); //yup\n  // const {errors} = useForm({\n  //   resolver: yupResolver(schema)\n  // });\n\n  const signIn = e => {\n    //trying this out for yup, if it doesnt work delete lines 36-38,\n    // const {signIn} = (e) => {\n    // resolver: yupResolver(schema);\n    e.preventDefault();\n\n    if (username !== \"\" && password !== \"\") {\n      const req = {\n        username,\n        password\n      };\n      axios.post(\"http://localhost:5000/users/login\", req).then(result => {\n        const token = result.data;\n        console.log(result);\n\n        if (result.data.token) {\n          localStorage.setItem(\"mytoken\", JSON.stringify(token));\n          history.push(\"/profile\"); // setMessage(result.data.message);\n        } else {\n          // history.push(\"/login\");\n          setMessage(result.data.message);\n        }\n      });\n    }\n  }; // useEffect(() => {\n  //     // storing input name\n  //     localStorage.setItem(\"mytoken\", JSON.stringify(token));\n  //   }, [token]);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: signIn,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"welcome\",\n        children: \"WELCOME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"textfield\",\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"textfield\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), message, /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        className: \"submit\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signuplink\",\n        children: [\"Not a member? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signup\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"EfoIcgWB4w2qhzB0JK+4ONQBx/k=\");\n\n_c = Login;\nexport default Login; // export default class Login extends React.Component {\n//   state = {\n//    username: \"\",\n//     password: \"\"\n//   };\n//   handleUsername = (event) => {\n//     this.setState({ username: event.target.value });\n//   };\n//   handlePassword = (event) => {\n//     this.setState({ password: event.target.value });\n//   };\n//   handleSubmit = (event) => {\n//     event.preventDefault();\n//     const user = {\n//       username: this.state.username,\n//       password: this.state.password\n//     };\n//     axios\n//     .post(`http://localhost:5000/api/users/login`, { user }) //this is where the address to the backend will go\n//     .then((res) => {\n//       console.log(res);\n//       console.log(res.data);\n//     });\n// this.setState({ username: '', password: '' })\n// };\n// render() {\n//   return (\n//     <>\n//       <div>\n//      <h1>Sign In</h1>\n//      <form onSubmit={this.handleSubmit} >\n//        <div>\n//          <label>\n//            Username:\n//            <input\n//           //  id=\"name\"\n//            type=\"text\"\n//            name=\"username\"\n//            value={this.state.username}\n//            className=\"form-input\"\n//            placeholder=\"Enter Name\"\n//            onChange={this.handleUsername}\n//            />\n//          </label>\n//        </div>\n//        <div>\n//          <label>\n//            Password:\n//            <input\n//           //  id=\"password\"\n//            type=\"password\"\n//            name=\"password\"\n//            value={this.state.password}\n//            className=\"form-input\"\n//            placeholder=\"Enter Password\"\n//            onChange={this.handlePassword}\n//            />\n//          </label>\n//          <button type=\"submit\" value=\"Login\" >Sign In</button>\n//        </div>\n//      </form>\n//       </div>\n//     </>\n//   );\n// }}\n//Check the set and the handle changess.\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/mr.hern/Desktop/front-end/react-frontend/src/Components/pages/Login.js"],"names":["axios","React","useState","Button","Login","history","username","setUsername","password","setPassword","message","setMessage","signIn","e","preventDefault","req","post","then","result","token","data","console","log","localStorage","setItem","JSON","stringify","push","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n// import { useState, useEffect } from \"react\";\nimport React, { useState } from \"react\";\n// import { withRouter } from \"react-router\";\n// import { Link } from \"react-router-dom\"\nimport \"../Login.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Button from \"react-bootstrap/Button\";\n// import { yupResolver } from '@hookform/resolvers/yup';\n// import * as yup from 'yup';\n// import { useForm } from 'react-hook-form';\n\n//create schema for yup \n// const schema = yup.object().shape({\n//   username: yup.string().required(),\n//   password: yup.string().required()\n// })\n\n\n\n\n\nconst Login = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  //yup\n  // const {errors} = useForm({\n  //   resolver: yupResolver(schema)\n  // });\n\n\n\n  const signIn = (e) => {\n    //trying this out for yup, if it doesnt work delete lines 36-38,\n    // const {signIn} = (e) => {\n      // resolver: yupResolver(schema);\n    e.preventDefault();\n\n    if (username !== \"\" && password !== \"\") {\n      const req = {\n        username,\n        password,\n      };\n     \n\n      axios.post(\"http://localhost:5000/users/login\", req).then((result) => {\n        const token = result.data;\n        console.log(result);\n        if (result.data.token) {\n          localStorage.setItem(\"mytoken\", JSON.stringify(token));\n          history.push(\"/profile\");\n          // setMessage(result.data.message);\n       } else {\n        // history.push(\"/login\");\n        setMessage(result.data.message);\n      }\n      });\n    } \n  };\n\n  // useEffect(() => {\n  //     // storing input name\n  //     localStorage.setItem(\"mytoken\", JSON.stringify(token));\n  //   }, [token]);\n\n  return (\n    <div className=\"login\">\n      {/* <div><img className=\"foodimage\" src=\"https://the-local-fork.s3.us-east-2.amazonaws.com/food.svg\" alt=\"\"/></div>  */}\n      <form onSubmit={signIn}>\n        <h1 className=\"welcome\">WELCOME</h1>\n        <br />\n        <br />\n        {/* <label>Username:</label> */}\n        <br />\n        <input\n          className=\"textfield\"\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"Username\"\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        {/* <p>{errors.username?.message}</p> */}\n        {/* <label>Password:</label> */}\n     \n        <input\n          className=\"textfield\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          \n          onChange={(e) => setPassword(e.target.value)}\n        />\n        {/* <p>{errors.password?.message}</p> */}\n        {/* <Link to=\"/profile\" > */}\n        \n        {message}\n       \n        <Button type=\"submit\" className=\"submit\">\n          Sign in\n        </Button>\n        {/* </Link>   This is close to what I want but it breaks.  */}\n        <div className=\"signuplink\">\n          Not a member? <a href=\"/signup\">Sign up</a>{\" \"}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n\n// export default class Login extends React.Component {\n//   state = {\n//    username: \"\",\n//     password: \"\"\n//   };\n\n//   handleUsername = (event) => {\n//     this.setState({ username: event.target.value });\n//   };\n\n//   handlePassword = (event) => {\n//     this.setState({ password: event.target.value });\n//   };\n\n//   handleSubmit = (event) => {\n//     event.preventDefault();\n\n//     const user = {\n//       username: this.state.username,\n//       password: this.state.password\n\n//     };\n\n//     axios\n//     .post(`http://localhost:5000/api/users/login`, { user }) //this is where the address to the backend will go\n//     .then((res) => {\n//       console.log(res);\n//       console.log(res.data);\n//     });\n// this.setState({ username: '', password: '' })\n// };\n\n// render() {\n//   return (\n//     <>\n//       <div>\n//      <h1>Sign In</h1>\n\n//      <form onSubmit={this.handleSubmit} >\n//        <div>\n//          <label>\n//            Username:\n//            <input\n//           //  id=\"name\"\n//            type=\"text\"\n//            name=\"username\"\n//            value={this.state.username}\n//            className=\"form-input\"\n//            placeholder=\"Enter Name\"\n//            onChange={this.handleUsername}\n//            />\n//          </label>\n//        </div>\n//        <div>\n//          <label>\n//            Password:\n//            <input\n//           //  id=\"password\"\n//            type=\"password\"\n//            name=\"password\"\n//            value={this.state.password}\n//            className=\"form-input\"\n//            placeholder=\"Enter Password\"\n//            onChange={this.handlePassword}\n//            />\n//          </label>\n//          <button type=\"submit\" value=\"Login\" >Sign In</button>\n//        </div>\n//      </form>\n//       </div>\n\n//     </>\n//   );\n// }}\n\n//Check the set and the handle changess.\n"]},"metadata":{},"sourceType":"module"}