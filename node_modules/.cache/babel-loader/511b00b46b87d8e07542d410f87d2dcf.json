{"ast":null,"code":"var _jsxFileName = \"/Users/mr.hern/Desktop/Bethel School. FInal Pro./Old-To-New/Old-New/src/Components/pages/Reviews.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst colors = {\n  orange: \"#FFBA5A\",\n  grey: \"#a9a9a9\"\n};\n\nfunction Reviews({\n  history\n}) {\n  _s();\n\n  const {\n    restaurantId\n  } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [review, setReview] = useState(\"\");\n  const [revId, setRevId] = useState(\"\");\n  const userData = JSON.parse(localStorage.getItem(\"mytoken\"));\n  const [restaurant, setRestaurant] = useState([]);\n  console.log(revId);\n  useEffect(() => {\n    axios.get(`http://localhost:5000/restaurant/${restaurantId}`).then(res => {\n      setRestaurant(res.data.data);\n    });\n    axios.get(`http://localhost:5000/review/singlereview/${restaurantId}`, {\n      headers: {\n        Authorization: `${userData.token}`\n      }\n    }).then(res => {\n      console.log(restaurantId);\n\n      if (res.data.reviewData) {\n        setTitle(res.data.reviewData.title);\n        setReview(res.data.reviewData.review);\n        setRevId(res.data.reviewData._id);\n        console.log(res.data.reviewData);\n      }\n    });\n  }, [restaurantId]);\n\n  const save = () => {\n    if (revId) {\n      const req = {\n        review: review,\n        restaurantName: restaurant.name\n      };\n      axios.put(`http://localhost:5000/review/updateReview/${revId}`, req, {\n        headers: {\n          Authorization: `${userData.token}`\n        }\n      });\n    } else {\n      const req = {\n        review: review,\n        name: userData.firstname,\n        restaurantName: restaurant.name,\n        restaurantId: restaurantId\n      };\n      axios.post(`http://localhost:5000/review/addNewReview`, req, {\n        headers: {\n          Authorization: `${userData.token}`\n        }\n      });\n    }\n\n    history.push(`/restaurants/${restaurantId}`);\n  };\n\n  const deleteReview = () => {\n    axios.delete(`http://localhost:5000/review/delete/${revId}`, {\n      headers: {\n        Authorization: `${userData.token}`\n      }\n    });\n    history.push(`/restaurants/${restaurantId}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Don't be shy... Leave a review!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: restaurant.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: review,\n      placeholder: \"Review\",\n      onChange: e => setReview(e.target.value),\n      style: styles.textarea\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: save,\n      alert: \"Thank you!\",\n      style: styles.button,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: deleteReview,\n      variant: \"dark\",\n      style: styles.button,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Reviews, \"cgAIm+0CoTDxFtvZWCMi9CYjA84=\", false, function () {\n  return [useParams];\n});\n\n_c = Reviews;\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  textarea: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    margin: \"20px 0\",\n    minHeight: 100,\n    padding: 10\n  },\n  button: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    padding: 10\n  },\n  input: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    margin: \"10px 0\",\n    minHeight: 10,\n    padding: 10\n  }\n};\nexport default Reviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"sources":["/Users/mr.hern/Desktop/Bethel School. FInal Pro./Old-To-New/Old-New/src/Components/pages/Reviews.js"],"names":["axios","React","useState","useEffect","useParams","Button","colors","orange","grey","Reviews","history","restaurantId","title","setTitle","review","setReview","revId","setRevId","userData","JSON","parse","localStorage","getItem","restaurant","setRestaurant","console","log","get","then","res","data","headers","Authorization","token","reviewData","_id","save","req","restaurantName","name","put","firstname","post","push","deleteReview","delete","styles","container","e","target","value","textarea","button","display","flexDirection","alignItems","border","borderRadius","width","margin","minHeight","padding","input"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\n\nconst colors = {\n  orange: \"#FFBA5A\",\n  grey: \"#a9a9a9\",\n};\n\nfunction Reviews({ history }) {\n  const { restaurantId } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [review, setReview] = useState(\"\");\n  const [revId, setRevId] = useState(\"\");\n  const userData = JSON.parse(localStorage.getItem(\"mytoken\"));\n  const [restaurant, setRestaurant] = useState([]);\n  console.log(revId);\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:5000/restaurant/${restaurantId}`)\n      .then((res) => {\n        setRestaurant(res.data.data);\n      });\n\n    axios\n      .get(`http://localhost:5000/review/singlereview/${restaurantId}`, {\n        headers: {\n          Authorization: `${userData.token}`,\n        },\n      })\n      .then((res) => {\n        console.log(restaurantId);\n        if (res.data.reviewData) {\n          setTitle(res.data.reviewData.title);\n          setReview(res.data.reviewData.review);\n\n          setRevId(res.data.reviewData._id);\n\n          console.log(res.data.reviewData);\n        }\n      });\n  }, [restaurantId]);\n\n  const save = () => {\n    if (revId) {\n      const req = {\n        review: review,\n        restaurantName: restaurant.name,\n      };\n      axios.put(`http://localhost:5000/review/updateReview/${revId}`, req, {\n        headers: {\n          Authorization: `${userData.token}`,\n        },\n      });\n    } else {\n      const req = {\n        review: review,\n        name: userData.firstname,\n        restaurantName: restaurant.name,\n        restaurantId: restaurantId,\n      };\n      axios.post(`http://localhost:5000/review/addNewReview`, req, {\n        headers: {\n          Authorization: `${userData.token}`,\n        },\n      });\n    }\n    history.push(`/restaurants/${restaurantId}`);\n  };\n\n  const deleteReview = () => {\n    axios.delete(`http://localhost:5000/review/delete/${revId}`, {\n      headers: {\n        Authorization: `${userData.token}`,\n      },\n    });\n    history.push(`/restaurants/${restaurantId}`);\n  };\n\n  return (\n    <div style={styles.container}>\n      <br />\n      <h2>Don't be shy... Leave a review!</h2>\n      <h3>{restaurant.name}</h3>\n\n      <textarea\n        value={review}\n        placeholder=\"Review\"\n        onChange={(e) => setReview(e.target.value)}\n        style={styles.textarea}\n      />\n      <Button onClick={save} alert=\"Thank you!\" style={styles.button}>\n        Submit\n      </Button>\n      <Button onClick={deleteReview} variant=\"dark\" style={styles.button}>\n        Delete\n      </Button>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  textarea: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    margin: \"20px 0\",\n    minHeight: 100,\n    padding: 10,\n  },\n  button: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    padding: 10,\n  },\n  input: {\n    border: \"1px solid #a9a9a9\",\n    borderRadius: 5,\n    width: 300,\n    margin: \"10px 0\",\n    minHeight: 10,\n    padding: 10,\n  },\n};\nexport default Reviews;\n"]},"metadata":{},"sourceType":"module"}